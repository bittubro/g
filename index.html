<!DOCTYPE html>
<html lang="en" >
<head>
  <meta charset="UTF-8">
  <link rel="stylesheet" href="./style.css">

</head>
<body>
<!-- partial:index.partial.html -->
<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8">
  
    <script src="/html-audio-playr/dist/.js" crossorigin="anonymous"></script>
  
    <link rel=stylesheet href="style.css" media=all> 
  </head>
  <body>


<audio id="myAudio" ontimeupdate="onTimeUpdate()">
  <!-- <source src="audio.ogg" type="audio/ogg"> -->
  <source id="source-audio" src="" type="audio/mpeg">
  Your browser does not support the audio element.
</audio>

  <input type="checkbox" id="checkTab" name="checkTab" checked/>
  
  <label class="menu" for="checkTab">â™¬
  </label>

  <div class="tabs">
<div class="player-ctn">
  <div class="infos-ctn">
    <div class="timer">00:00</div>
    <div class="title"></div>
    <div class="duration">00:00</div>
  </div>
  <div id="myProgress">
    <div id="myBar"></div>
  </div>
  </div>
  <div class="btn-ctn">
     <div class="btn-action first-btn" onclick="previous()">
        <div id="btn-faws-back">
          <i class='fas fa-step-backward'></i>
        </div>
     </div>
     <div class="btn-action" onclick="rewind()">
        <div id="btn-faws-rewind">
          <i class='fas fa-backward'></i>
        </div>
     </div>
     <div class="btn-action" onclick="toggleAudio()">
        <div id="btn-faws-play-pause">
          <i class='fas fa-play' id="icon-play"></i>
          <i class='fas fa-pause' id="icon-pause" style="display: none"></i>
        </div>
     </div>
     <div class="btn-play" onclick="forward()">
        <div id="btn-faws-forward">
          <i class='fas fa-forward'></i>
        </div>
     </div>
     <div class="btn-action" onclick="next()">
        <div id="btn-faws-next">
          <i class='fas fa-step-forward'></i>
        </div>
     </div>
     <div class="btn-mute" id="toggleMute" onclick="toggleMute()">
        <div id="btn-faws-volume">
          <i id="icon-vol-up" class='fas fa-volume-up'></i>
          <i id="icon-vol-mute" class='fas fa-volume-mute' style="display: none"></i>
        </div>
     </div>
  </div>
  </div>
  <div class="player-ctn1">
  <div class="playlist-ctn"></div>
</div>
<script src="/html-audio-playe/dist/a062562745.js" crossorigin="anonymous"></script>
  <script>
  var listAudio = [
    {
      name:"Artist 1 - audio 1",
      file:"https://www.soundhelix.com/examples/mp3/SoundHelix-Song-10.mp3",
      duration:"08:47"
    },
    {
      name:"Artist 2 - audio 2",
      file:"https://www.soundhelix.com/examples/mp3/SoundHelix-Song-5.mp3",
      duration:"05:53"
    },

  ];
</script>
  <script  src="./script.js"></script>


<button onclick="sendNotification()">Send Notification</button>

<script>
  function sendNotification() {
    if (!("Notification" in window)) {
      alert("This browser does not support desktop notification");
    }
    else if (Notification.permission === "granted") {
      var notification = new Notification("Title", {
        body: "This is the body text of the notification.",
      });
    }
    else if (Notification.permission !== "denied") {
      Notification.requestPermission().then(function (permission) {
        if (permission === "granted") {
          var notification = new Notification("Title", {
            body: "This is the body text of the notification.",
          });
        }
      });
    }
  }
</script>
<button id="subscribe">Subscribe to Push Notifications</button>
<script>
  // Register the service worker
  navigator.serviceWorker.register('/sw.js')
    .then(function(registration) {
      // Get the current subscription
      return registration.pushManager.getSubscription()
        .then(function(subscription) {
          if (subscription) {
            // User is already subscribed
            return subscription;
          }
          // User is not subscribed, ask for permission
          return registration.pushManager.subscribe({
            userVisibleOnly: true
          });
        });
    })
    .then(function(subscription) {
      // Send the subscription object to your server
      sendSubscriptionToServer(subscription);
    });

  // Send a push notification
  function sendPushNotification(subscription) {
    // Prepare the notification
    const notification = {
      title: 'My website',
      body: 'This is a test push notification',
      icon: '/icon.png'
    };
    // Send the notification
    fetch('https://fcm.googleapis.com/fcm/send', {
      method: 'POST',
      headers: {
        'Content-Type': 'application/json',
        'Authorization': 'Bearer BNGy01ReJMNzMt1Ll_KopmO4Bhal1jLwLjqQz0OjDgO_k2Lg6XUl848zbNzwBt3ejQehDbfF5YLEbqxHtVJhuCU'
      },
      body: JSON.stringify({
        notification: notification,
        to: subscription.endpoint
      })
    });
  }
  
  // Subscribe button click event
  document.getElementById('subscribe').addEventListener('click', function() {
    // Register the service worker
    navigator.serviceWorker.register('/sw.js')
      .then(function(registration) {
        // Get the current subscription
        return registration.pushManager.getSubscription()
          .then(function(subscription) {
            if (subscription) {
              // User is already subscribed
              return subscription;
            }
            // User is not subscribed, ask for permission
            return registration.pushManager.subscribe({
              userVisibleOnly: true
            });
          });
      })
      .then(function(subscription) {
        // Send the subscription object to your server
        sendSubscriptionToServer(subscription);
      });
  });
</script>
</body>
</html>
